# ุจุฏุก ุงูุชุดุบูู ุงูุณุฑูุน - ูุธุงู ุงููุตุงุฏูุฉ

## ๐ ุงูุชุดุบูู ุงูุณุฑูุน

### 1. ุฅูุดุงุก ููู ุงูุจูุฆุฉ

ุฃูุดุฆ ููู `.env.local` ูู ุงููุฌูุฏ ุงูุฑุฆูุณู:

```bash
# MongoDB Connection (ุงุณุชุฎุฏู ูุงุนุฏุฉ ุจูุงูุงุช ุญููููุฉ)
MONGODB_URI=mongodb+srv://your-username:your-password@cluster.mongodb.net/mazoony_db

# JWT Authentication
JWT_SECRET=mazoony-super-secret-jwt-key-for-development-testing-2024
JWT_EXPIRES_IN=7d

# Next.js Configuration
NEXTAUTH_SECRET=mazoony-nextauth-secret-for-development-2024
NEXTAUTH_URL=http://localhost:3000
```

### 2. ุชููุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
npm run auth:init
```

### 3. ุชุดุบูู ุงูุฎุงุฏู

```bash
npm run dev
```

## ๐ง ุฅุตูุงุญ ูุดููุฉ 307 Redirect

ุฅุฐุง ูุงุฌูุช ูุดููุฉ ุฅุนุงุฏุฉ ุงูุชูุฌูู 307ุ ุงุชุจุน ูุฐู ุงูุฎุทูุงุช:

### ุงูุฎุทูุฉ 1: ุฅููุงู ุฌููุน ุนูููุงุช Node.js

```powershell
taskkill /F /IM node.exe
```

### ุงูุฎุทูุฉ 2: ุญุฐู ูุฌูุฏ ุงูุจูุงุก

```powershell
Remove-Item -Recurse -Force .next
```

### ุงูุฎุทูุฉ 3: ุชุดุบูู ูุน ูุชุบูุฑุงุช ุงูุจูุฆุฉ

```powershell
$env:JWT_SECRET="mazoony-super-secret-jwt-key-for-development-testing-2024"
$env:MONGODB_URI="mongodb://localhost:27017/mazoony_test"  # ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุญููููุฉ
npm run dev
```

## ๐ฑ ุงุฎุชุจุงุฑ ุงููุธุงู

1. **ุฒูุงุฑุฉ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ**: http://localhost:3000
2. **ูุญุงููุฉ ุงููุตูู ูููุญุฉ ุงูุชุญูู**: http://localhost:3000/admin
   - ูุฌุจ ุฅุนุงุฏุฉ ุงูุชูุฌูู ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
3. **ุชุณุฌูู ุงูุฏุฎูู**: http://localhost:3000/admin/login
   - ุงูุจุฑูุฏ: `admin@mazoony.com`
   - ูููุฉ ุงููุฑูุฑ: `admin123`

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ Edge Runtime

ุฅุฐุง ุธูุฑ ุฎุทุฃ:
```
Error: The edge runtime does not support Node.js 'crypto' module
```

**ุงูุญู**: ุชู ุฅุตูุงุญ ูุฐุง ูู ุงูููุฏ ุจุงุณุชุฎุฏุงู ููุชุจุฉ `jose` ุจุฏูุงู ูู `jsonwebtoken` ูู ุงูู middleware.

### ูุดููุฉ 307 Redirect Loop

ุฅุฐุง ูุงูุช ุตูุญุฉ `/admin/login` ุชุนูุฏ ุงูุชูุฌูู ุฅูู ููุณูุง:

1. ุชุฃูุฏ ูู ุฃู ุงูู middleware ูุณุชุซูู ุตูุญุงุช ุชุณุฌูู ุงูุฏุฎูู
2. ุชุญูู ูู ูุฌูุฏ ููู `.env.local` ูุน `JWT_SECRET`
3. ุฃุนุฏ ุจูุงุก ุงููุดุฑูุน ุจุญุฐู ูุฌูุฏ `.next`

### ูุดููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุฅุฐุง ูู ุชุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:

1. ุชุญูู ูู `MONGODB_URI` ูู `.env.local`
2. ุดุบู `npm run auth:init` ูุชููุฆุฉ ุงููุฌููุนุงุช
3. ุชุฃูุฏ ูู ูุฌูุฏ ุงุชุตุงู ุฅูุชุฑูุช (ุฅุฐุง ููุช ุชุณุชุฎุฏู MongoDB Atlas)

## ๐ฏ ุงููุชูุฌุฉ ุงููุชููุนุฉ

ุจุนุฏ ุงูุชุดุบูู ุงูุตุญูุญ:

- โ http://localhost:3000/admin/login - ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
- โ ุชุณุฌูู ุงูุฏุฎูู ููููู ูู `/admin` 
- โ ุงููุตูู ููุตูุญุงุช ุงููุญููุฉ ูุชุทูุจ ุชุณุฌูู ุงูุฏุฎูู
- โ ุชุณุฌูู ุงูุฎุฑูุฌ ูุนูู ุจุดูู ุตุญูุญ
- โ ุงุณุชุนุงุฏุฉ ูููุฉ ุงููุฑูุฑ ุชุนูู
- โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ุชุนูู

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดุงูู ุฃุฎุฑูุ ุชุญูู ูู:

1. `AUTH_SYSTEM_GUIDE.md` - ุงูุฏููู ุงูุดุงูู
2. `EDGE_RUNTIME_FIX.md` - ุฅุตูุงุญุงุช Edge Runtime
3. ูููุงุช ุงูุชูุซูู ุงูุฃุฎุฑู ูู ุงููุดุฑูุน
