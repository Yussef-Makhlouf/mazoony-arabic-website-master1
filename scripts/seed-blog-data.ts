import { connectToDatabase } from '../lib/mongodb'

async function seedBlogData() {
  try {
    const { db } = await connectToDatabase()
    
    console.log('๐ ุจุฏุก ุฅุฏุฎุงู ุจูุงูุงุช ุงููุฏููุฉ ุงูุชุฌุฑูุจูุฉ...')

    // ุฅุฏุฎุงู ุชุตูููุงุช ุงูููุงูุงุช
    const categories = [
      {
        name: 'ุงููุตุงุฆุญ ูุงูุฅุฑุดุงุฏุงุช',
        slug: 'tips-guidance',
        description: 'ูุตุงุฆุญ ูููุฏุฉ ูุฅุฑุดุงุฏุงุช ุนุงูุฉ ุญูู ุงูุฒูุงุฌ ูุงููุฃุฐูููู',
        color: '#3B82F6',
        icon: 'lightbulb',
        isActive: true,
        articleCount: 0,
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        name: 'ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ',
        slug: 'faq',
        description: 'ุฅุฌุงุจุงุช ุนูู ุงูุฃุณุฆูุฉ ุงูุฃูุซุฑ ุดููุนุงู',
        color: '#10B981',
        icon: 'help-circle',
        isActive: true,
        articleCount: 0,
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        name: 'ุงูุฃุฎุจุงุฑ ูุงูุชุญุฏูุซุงุช',
        slug: 'news-updates',
        description: 'ุขุฎุฑ ุงูุฃุฎุจุงุฑ ูุงูุชุญุฏูุซุงุช ูู ูุฌุงู ุงููุฃุฐูููู',
        color: '#F59E0B',
        icon: 'newspaper',
        isActive: true,
        articleCount: 0,
        createdAt: new Date(),
        updatedAt: new Date()
      },
      {
        name: 'ุงูุซูุงูุฉ ุงูุดุฑุนูุฉ',
        slug: 'islamic-culture',
        description: 'ููุงูุงุช ุญูู ุงูุซูุงูุฉ ุงูุดุฑุนูุฉ ูุงูุฃุญูุงู',
        color: '#8B5CF6',
        icon: 'book',
        isActive: true,
        articleCount: 0,
        createdAt: new Date(),
        updatedAt: new Date()
      }
    ]

    await db.collection('articleCategories').insertMany(categories)
    console.log(`โ ุชู ุฅุฏุฎุงู ${categories.length} ุชุตููู`)

    // ุฅุฏุฎุงู ููุงูุงุช ุชุฌุฑูุจูุฉ
    const articles = [
      {
        title: 'ููููุฉ ุงุฎุชูุงุฑ ุงููุฃุฐูู ุงูููุงุณุจ ูุญูู ุฒูุงูู',
        slug: 'how-to-choose-right-sheikh',
        excerpt: 'ุฏููู ุดุงูู ููุณุงุนุฏุชู ูู ุงุฎุชูุงุฑ ุงููุฃุฐูู ุงูุดุฑุนู ุงูููุงุณุจ ูุงุญุชูุงุฌุงุชู ูุชููุนุงุชู.',
        content: `
          <h2>ููุฏูุฉ</h2>
          <p>ูุนุชุจุฑ ุงุฎุชูุงุฑ ุงููุฃุฐูู ุงูุดุฑุนู ุงูููุงุณุจ ูู ุฃูู ุงููุฑุงุฑุงุช ุงูุชู ูุชุฎุฐูุง ุงูุฒูุฌุงู ูุจู ุฅุชูุงู ูุฑุงุณู ุงูุฒูุงุฌ. ูุงููุฃุฐูู ููุณ ูุฌุฑุฏ ุดุฎุต ูููู ุจุชูุซูู ุงูุนูุฏุ ุจู ูู ูุฑุดุฏ ููุณุงุนุฏ ูู ูุฐู ุงููุฑุญูุฉ ุงููููุฉ ูู ุญูุงุชููุง.</p>
          
          <h2>ุงูุนูุงูู ุงููููุฉ ูู ุงูุงุฎุชูุงุฑ</h2>
          <h3>1. ุงูุฎุจุฑุฉ ูุงูุชุฃููู</h3>
          <p>ุชุฃูุฏ ูู ุฃู ุงููุฃุฐูู ูุนุชูุฏ ููุฑุฎุต ูู ุงูุฌูุงุช ุงููุฎุชุตุฉุ ููุฏูู ุฎุจุฑุฉ ูุงููุฉ ูู ูุฐุง ุงููุฌุงู.</p>
          
          <h3>2. ุงูุณูุนุฉ ูุงูุชููููุงุช</h3>
          <p>ุงุจุญุซ ุนู ุชููููุงุช ุงูุนููุงุก ุงูุณุงุจููู ูุงุณุชูุณุฑ ูู ุงูุฃุตุฏูุงุก ูุงูุนุงุฆูุฉ ุนู ุชุฌุงุฑุจูู.</p>
          
          <h3>3. ุงูุชูุงูู ุงูุดุฎุตู</h3>
          <p>ูู ุงูููู ุฃู ุชุดุนุฑ ุจุงูุฑุงุญุฉ ูุงูุซูุฉ ูุน ุงููุฃุฐูู ุงููุฎุชุงุฑ.</p>
          
          <h2>ูุตุงุฆุญ ุฅุถุงููุฉ</h2>
          <ul>
            <li>ุงุญุฌุฒ ูุจูุฑุงู ุฎุงุตุฉ ูู ููุงุณู ุงูุฃุนุฑุงุณ</li>
            <li>ุงุณุฃู ุนู ุงูุฃุณุนุงุฑ ูุงูุฎุฏูุงุช ุงูููุฏูุฉ</li>
            <li>ุชุฃูุฏ ูู ุชูุงูุฑ ุงููุฃุฐูู ูู ุงูุชุงุฑูุฎ ุงููุทููุจ</li>
          </ul>
        `,
        image: '/placeholder.jpg',
        author: {
          name: 'ุฏ. ุฃุญูุฏ ุงููุญูุฏ',
          email: 'admin@mazoony.com',
          avatar: ''
        },
        category: 'tips-guidance',
        tags: ['ุงุฎุชูุงุฑ ุงููุฃุฐูู', 'ูุตุงุฆุญ ุงูุฒูุงุฌ', 'ุฏููู ุงูุนุฑูุณูู'],
        status: 'published' as const,
        featured: true,
        views: 245,
        readingTime: 5,
        seoTitle: 'ููููุฉ ุงุฎุชูุงุฑ ุงููุฃุฐูู ุงูููุงุณุจ - ุฏููู ุดุงูู ููุนุฑูุณูู',
        seoDescription: 'ุชุนุฑู ุนูู ุฃูู ุงููุตุงุฆุญ ูุงููุนุงููุฑ ูุงุฎุชูุงุฑ ุงููุฃุฐูู ุงูุดุฑุนู ุงูููุงุณุจ ูุญูู ุฒูุงูู',
        seoKeywords: ['ุงุฎุชูุงุฑ ุงููุฃุฐูู', 'ุงููุฃุฐูู ุงูุดุฑุนู', 'ุญูู ุงูุฒูุงู', 'ูุตุงุฆุญ ุงูุฒูุงุฌ'],
        publishedAt: new Date(),
        createdAt: new Date(),
        updatedAt: new Date(),
        createdBy: 'admin',
        updatedBy: 'admin'
      },
      {
        title: 'ุงูุฃูุฑุงู ุงููุทููุจุฉ ูุนูุฏ ุงูุฒูุงุฌ ูู ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ',
        slug: 'required-documents-marriage',
        excerpt: 'ูุงุฆูุฉ ุดุงููุฉ ุจุฌููุน ุงูุฃูุฑุงู ูุงููุซุงุฆู ุงููุทููุจุฉ ูุฅุชูุงู ุนูุฏ ุงูุฒูุงุฌ ูููุงู ููุฃูุธูุฉ ุงูุณุนูุฏูุฉ.',
        content: `
          <h2>ุงูุฃูุฑุงู ุงูุฃุณุงุณูุฉ</h2>
          <h3>ููุนุฑูุณ</h3>
          <ul>
            <li>ุงููููุฉ ุงููุทููุฉ ุฃู ุงูุฅูุงูุฉ ุงููุธุงููุฉ</li>
            <li>ุดูุงุฏุฉ ุงููููุงุฏ</li>
            <li>ุดูุงุฏุฉ ุนุฏู ุงูููุงูุนุฉ ูู ุงูุฒูุงุฌ</li>
          </ul>
          
          <h3>ููุนุฑูุณ</h3>
          <ul>
            <li>ุงููููุฉ ุงููุทููุฉ ุฃู ุงูุฅูุงูุฉ ุงููุธุงููุฉ</li>
            <li>ุดูุงุฏุฉ ุงููููุงุฏ</li>
            <li>ููุงููุฉ ููู ุงูุฃูุฑ</li>
          </ul>
          
          <h2>ุฃูุฑุงู ุฅุถุงููุฉ</h2>
          <p>ูุฏ ุชุทูุจ ุจุนุถ ุงูุฌูุงุช ุฃูุฑุงู ุฅุถุงููุฉ ุญุณุจ ุงูุญุงูุฉ ูุงูุธุฑูู ุงูุฎุงุตุฉ.</p>
        `,
        author: {
          name: 'ุฃ. ุณุงุฑุฉ ุงูุนุซูุงู',
          email: 'admin@mazoony.com',
          avatar: ''
        },
        category: 'faq',
        tags: ['ุฃูุฑุงู ุงูุฒูุงุฌ', 'ุงููุณุชูุฏุงุช ุงููุทููุจุฉ', 'ุงูุฅุฌุฑุงุกุงุช ุงููุงููููุฉ'],
        status: 'published' as const,
        featured: false,
        views: 189,
        readingTime: 3,
        seoTitle: 'ุงูุฃูุฑุงู ุงููุทููุจุฉ ูุนูุฏ ุงูุฒูุงุฌ ูู ุงูุณุนูุฏูุฉ',
        seoDescription: 'ุฏููู ุดุงูู ููุฃูุฑุงู ูุงููุณุชูุฏุงุช ุงููุทููุจุฉ ูุฅุชูุงู ุนูุฏ ุงูุฒูุงุฌ ูู ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ',
        seoKeywords: ['ุฃูุฑุงู ุงูุฒูุงุฌ', 'ุนูุฏ ุงูุฒูุงุฌ', 'ุงููุณุชูุฏุงุช ุงููุทููุจุฉ', 'ุงูุณุนูุฏูุฉ'],
        publishedAt: new Date(Date.now() - 86400000), // ููู ูุงุญุฏ ูู ุงููุงุถู
        createdAt: new Date(Date.now() - 86400000),
        updatedAt: new Date(Date.now() - 86400000),
        createdBy: 'admin',
        updatedBy: 'admin'
      },
      {
        title: 'ุฃุญูุงู ูุขุฏุงุจ ุงูุฒูุงุฌ ูู ุงูุฅุณูุงู',
        slug: 'marriage-rules-etiquette-islam',
        excerpt: 'ุชุนุฑู ุนูู ุฃูู ุงูุฃุญูุงู ุงูุดุฑุนูุฉ ูุขุฏุงุจ ุงูุฒูุงุฌ ูู ุงูุฅุณูุงู ุงูุชู ูุฌุจ ุนูู ูู ูุณูู ูุนุฑูุชูุง.',
        content: `
          <h2>ุฃูููุฉ ุงูุฒูุงุฌ ูู ุงูุฅุณูุงู</h2>
          <p>ุงูุฒูุงุฌ ูู ุงูุฅุณูุงู ููุณ ูุฌุฑุฏ ุนูุฏ ูุฏููุ ุจู ูู ููุซุงู ุบููุธ ูุฑุจุงุท ููุฏุณ ุจูู ุงูุฑุฌู ูุงููุฑุฃุฉ.</p>
          
          <h2>ุงูุฃุญูุงู ุงูุดุฑุนูุฉ</h2>
          <h3>ุดุฑูุท ุตุญุฉ ุงูููุงุญ</h3>
          <ol>
            <li>ูุฌูุฏ ุงูููู ูููุฑุฃุฉ</li>
            <li>ูุฌูุฏ ุดุงูุฏูู ุนุฏููู</li>
            <li>ุชุญุฏูุฏ ุงูููุฑ</li>
            <li>ุฑุถุง ุงูุทุฑููู</li>
          </ol>
          
          <h2>ุขุฏุงุจ ุงูุฒูุงุฌ</h2>
          <p>ููุณุชุญุจ ุงุชุจุงุน ุงูุณูุฉ ุงููุจููุฉ ูู ุฌููุน ูุฑุงุญู ุงูุฒูุงุฌ ูู ุงูุฎุทุจุฉ ุฅูู ุงูุฏุฎูู.</p>
        `,
        author: {
          name: 'ุงูุดูุฎ ูุญูุฏ ุงูุฃุญูุฏ',
          email: 'admin@mazoony.com',
          avatar: ''
        },
        category: 'islamic-culture',
        tags: ['ุฃุญูุงู ุงูุฒูุงุฌ', 'ุงูููู ุงูุฅุณูุงูู', 'ุขุฏุงุจ ุงูุฒูุงุฌ', 'ุงูุดุฑูุนุฉ'],
        status: 'published' as const,
        featured: true,
        views: 312,
        readingTime: 7,
        seoTitle: 'ุฃุญูุงู ูุขุฏุงุจ ุงูุฒูุงุฌ ูู ุงูุฅุณูุงู - ุฏููู ุดุฑุนู ุดุงูู',
        seoDescription: 'ุชุนุฑู ุนูู ุฃูู ุงูุฃุญูุงู ุงูุดุฑุนูุฉ ูุขุฏุงุจ ุงูุฒูุงุฌ ูู ุงูุฅุณูุงู ูููุงู ูููุฑุขู ูุงูุณูุฉ ุงููุจููุฉ',
        seoKeywords: ['ุฃุญูุงู ุงูุฒูุงุฌ', 'ุงูููู ุงูุฅุณูุงูู', 'ุขุฏุงุจ ุงูุฒูุงุฌ', 'ุงูุดุฑูุนุฉ ุงูุฅุณูุงููุฉ'],
        publishedAt: new Date(Date.now() - 172800000), // ููููู ูู ุงููุงุถู
        createdAt: new Date(Date.now() - 172800000),
        updatedAt: new Date(Date.now() - 172800000),
        createdBy: 'admin',
        updatedBy: 'admin'
      },
      {
        title: 'ุชุทูุฑุงุช ุฌุฏูุฏุฉ ูู ุฃูุธูุฉ ุงูุฒูุงุฌ ูุงูุทูุงู',
        slug: 'new-marriage-divorce-regulations',
        excerpt: 'ุขุฎุฑ ุงูุชุทูุฑุงุช ูุงูุชุญุฏูุซุงุช ูู ุฃูุธูุฉ ุงูุฒูุงุฌ ูุงูุทูุงู ูุงูุชู ุชูู ุฌููุน ุงูููุงุทููู.',
        content: `
          <h2>ุงูุชุญุฏูุซุงุช ุงูุญุฏูุซุฉ</h2>
          <p>ุดูุฏุช ุงูุฃูุธูุฉ ุงููุชุนููุฉ ุจุงูุฒูุงุฌ ูุงูุทูุงู ุชุทูุฑุงุช ูููุฉ ุชูุฏู ุฅูู ุชุณููู ุงูุฅุฌุฑุงุกุงุช ูุญูุงูุฉ ุญููู ุงูุฃุทุฑุงู.</p>
          
          <h2>ุฃูู ุงูุชุบููุฑุงุช</h2>
          <ul>
            <li>ุชุจุณูุท ุฅุฌุฑุงุกุงุช ุงูุชูุซูู</li>
            <li>ุฅุฏุฎุงู ุงูุฎุฏูุงุช ุงูุฅููุชุฑูููุฉ</li>
            <li>ุชุนุฒูุฒ ุงูุญูุงูุฉ ุงููุงููููุฉ</li>
          </ul>
          
          <h2>ููููุฉ ุงูุงุณุชูุงุฏุฉ</h2>
          <p>ูููู ููููุงุทููู ุงูุงุณุชูุงุฏุฉ ูู ูุฐู ุงูุชุทูุฑุงุช ูู ุฎูุงู ููุตุงุช ุงูุฎุฏูุงุช ุงูุญููููุฉ ุงูุฅููุชุฑูููุฉ.</p>
        `,
        author: {
          name: 'ุฃ. ูุงุทูุฉ ุงูุฒูุฑุงูู',
          email: 'admin@mazoony.com',
          avatar: ''
        },
        category: 'news-updates',
        tags: ['ุชุทูุฑุงุช ุงูุฃูุธูุฉ', 'ุงูุฎุฏูุงุช ุงูุญููููุฉ', 'ุงูุฃุฎุจุงุฑ'],
        status: 'published' as const,
        featured: false,
        views: 156,
        readingTime: 4,
        seoTitle: 'ุชุทูุฑุงุช ุฌุฏูุฏุฉ ูู ุฃูุธูุฉ ุงูุฒูุงุฌ ูุงูุทูุงู ูู ุงูุณุนูุฏูุฉ',
        seoDescription: 'ุงุทูุน ุนูู ุขุฎุฑ ุงูุชุทูุฑุงุช ูุงูุชุญุฏูุซุงุช ูู ุฃูุธูุฉ ุงูุฒูุงุฌ ูุงูุทูุงู ูู ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ',
        seoKeywords: ['ุฃูุธูุฉ ุงูุฒูุงุฌ', 'ุชุทูุฑุงุช ูุงููููุฉ', 'ุงูุฎุฏูุงุช ุงูุญููููุฉ', 'ุงูุณุนูุฏูุฉ'],
        publishedAt: new Date(Date.now() - 259200000), // ุซูุงุซุฉ ุฃูุงู ูู ุงููุงุถู
        createdAt: new Date(Date.now() - 259200000),
        updatedAt: new Date(Date.now() - 259200000),
        createdBy: 'admin',
        updatedBy: 'admin'
      }
    ]

    await db.collection('articles').insertMany(articles)
    console.log(`โ ุชู ุฅุฏุฎุงู ${articles.length} ููุงู`)

    // ุชุญุฏูุซ ุนุฏุงุฏุงุช ุงูุชุตูููุงุช
    for (const category of categories) {
      const count = await db.collection('articles').countDocuments({ 
        category: category.slug, 
        status: 'published' 
      })
      
      await db.collection('articleCategories').updateOne(
        { slug: category.slug },
        { $set: { articleCount: count } }
      )
    }
    
    console.log('โ ุชู ุชุญุฏูุซ ุนุฏุงุฏุงุช ุงูุชุตูููุงุช')
    console.log('๐ ุชู ุฅุฏุฎุงู ุฌููุน ุจูุงูุงุช ุงููุฏููุฉ ุจูุฌุงุญ!')

  } catch (error) {
    console.error('โ ุฎุทุฃ ูู ุฅุฏุฎุงู ุจูุงูุงุช ุงููุฏููุฉ:', error)
    throw error
  }
}

// ุชุดุบูู ุงูููุฏ
if (require.main === module) {
  seedBlogData()
    .then(() => {
      console.log('โ ุงูุชูู ุชุดุบูู ุงูุณูุฑูุจุช')
      process.exit(0)
    })
    .catch((error) => {
      console.error('โ ุฎุทุฃ:', error)
      process.exit(1)
    })
}

export default seedBlogData
