# ุชุญููู ูุงูู ูู ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ ุฅูู ุงูู APIs

## โ ุชู ุงูุงูุชูุงุก ูู ุงูุชุญููู

ุชู ุชุญููู ุฌููุน ุงูุจูุงูุงุช ูู ุงููููุงุช ุงูุซุงุจุชุฉ (`lib/data.ts`) ุฅูู ุงูู APIs ุจุดูู ูุงูู. ุงูุขู ุฌููุน ุงูุจูุงูุงุช ุชุฃุชู ูู ุงูู APIs ุงูุฎุงุตุฉ ุจูุง.

## ๐ ุงููููุงุช ุงููุญุฏุซุฉ

### 1. ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ
- โ `app/page.tsx` - ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- โ `app/sheikhs/page.tsx` - ุตูุญุฉ ุฌููุน ุงููุฃุฐูููู
- โ `app/cities/page.tsx` - ุตูุญุฉ ุฌููุน ุงููุฏู

### 2. ุตูุญุงุช ุงูุชูุงุตูู
- โ `app/sheikh/[slug]/page.tsx` - ุตูุญุฉ ุงูุดูุฎ
- โ `app/sheikh/[slug]/layout.tsx` - layout ุตูุญุฉ ุงูุดูุฎ
- โ `app/city/[slug]/page.tsx` - ุตูุญุฉ ุงููุฏููุฉ
- โ `app/city/[slug]/layout.tsx` - layout ุตูุญุฉ ุงููุฏููุฉ

### 3. ุตูุญุงุช ุงูุฅุฏุงุฑุฉ
- โ `app/admin/reviews/page.tsx` - ุฅุฏุงุฑุฉ ุงูุชููููุงุช
- โ `app/admin/messages/page.tsx` - ุฅุฏุงุฑุฉ ุงูุฑุณุงุฆู

### 4. API Routes
- โ `app/api/cities/route.ts` - ุชุญุฏูุซ ูุฏุนู query parameters
- โ `app/api/cities/[slug]/route.ts` - ููุฌูุฏ ููุญุฏุซ
- โ `app/api/cities/[slug]/sheikhs/route.ts` - ูุญูู ูุงุณุชุฎุฏุงู ุงูู services
- โ `app/api/search/route.ts` - ูุญูู ูุงุณุชุฎุฏุงู ุงูู services

### 5. ูููุงุช ุงูุฎุฏูุงุช
- โ `lib/api.ts` - ููู ุฌุฏูุฏ ูุญุชูู ุนูู ุฌููุน API functions
- โ `lib/database.ts` - ูุญุฏุซ ูุน ุฏูุงู ุงูุจุญุซ ุงูููููุฏุฉ

## ๐ง ุงูู API Functions ุงููุชุงุญุฉ

### City API
```typescript
cityAPI.getAll()           // ุฌููุน ุงููุฏู
cityAPI.getFeatured()      // ุงููุฏู ุงููููุฒุฉ
cityAPI.getBySlug(slug)    // ูุฏููุฉ ูุงุญุฏุฉ
cityAPI.search(query)      // ุงูุจุญุซ ูู ุงููุฏู
cityAPI.getSheikhs(slug)   // ูุฃุฐููู ุงููุฏููุฉ
```

### Sheikh API
```typescript
sheikhAPI.getAll()         // ุฌููุน ุงููุฃุฐูููู
sheikhAPI.getBySlug(slug)  // ูุฃุฐูู ูุงุญุฏ
sheikhAPI.getByCity(slug)  // ูุฃุฐููู ุงููุฏููุฉ
sheikhAPI.search(query)    // ุงูุจุญุซ ูู ุงููุฃุฐูููู
```

### Search API
```typescript
searchAPI.search(query, type, limit)  // ุงูุจุญุซ ุงูุดุงูู
```

### Reviews API
```typescript
reviewsAPI.getAll()                    // ุฌููุน ุงูุชููููุงุช
reviewsAPI.getBySheikh(slug)          // ุชููููุงุช ูุฃุฐูู
reviewsAPI.create(data)               // ุฅูุดุงุก ุชูููู
reviewsAPI.update(id, data)           // ุชุญุฏูุซ ุชูููู
reviewsAPI.delete(id)                 // ุญุฐู ุชูููู
```

### Messages API
```typescript
messagesAPI.getAll()                   // ุฌููุน ุงูุฑุณุงุฆู
messagesAPI.create(data)              // ุฅูุดุงุก ุฑุณุงูุฉ
messagesAPI.update(id, data)          // ุชุญุฏูุซ ุฑุณุงูุฉ
messagesAPI.delete(id)                // ุญุฐู ุฑุณุงูุฉ
```

### Stats API
```typescript
statsAPI.getDashboard()               // ุฅุญุตุงุฆูุงุช ููุญุฉ ุงูุชุญูู
```

## ๐ ุงููุฒุงูุง ุงูุฌุฏูุฏุฉ

### 1. ูุตู ุงูุทุจูุงุช
- **Frontend**: ูุณุชุฎุฏู ุงูู APIs ููุท
- **Backend**: ุงูู API routes ุชุชุนุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **Database**: ุทุจูุฉ ูููุตูุฉ ููุจูุงูุงุช

### 2. ูุงุจููุฉ ุงูุชูุณุน
- ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ ุจุณูููุฉ
- ุฏุนู pagination
- caching layer
- real-time updates

### 3. ุฅุฏุงุฑุฉ ุฃูุถู ููุฃุฎุทุงุก
- ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก
- fallback values
- user-friendly error messages

### 4. ุฃุฏุงุก ูุญุณู
- ุงุณุชุนูุงูุงุช ูุญุณูุฉ
- ุฅููุงููุฉ ุฅุถุงูุฉ caching
- ุชุญููู ุงูุจูุงูุงุช ุนูุฏ ุงูุญุงุฌุฉ

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูู Server Components
```typescript
import { cityAPI, sheikhAPI } from '@/lib/api'

// ุฌูุจ ุงูุจูุงูุงุช
const cities = await cityAPI.getAll()
const sheikh = await sheikhAPI.getBySlug(slug)
```

### ูู Client Components
```typescript
import { reviewsAPI, messagesAPI } from '@/lib/api'

// ูู useEffect
useEffect(() => {
  const fetchData = async () => {
    const reviews = await reviewsAPI.getAll()
    setReviews(reviews)
  }
  fetchData()
}, [])
```

### ูู API Routes
```typescript
import { CityService, SheikhService } from '@/lib/database'

// ุงูุชุนุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจุงุดุฑุฉ
const cities = await CityService.getAllCities()
```

## ๐ก๏ธ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

ุฌููุน ุงูู API functions ุชุญุชูู ุนูู:
- **Try-catch blocks** ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- **Console logging** ูุชุชุจุน ุงูุฃุฎุทุงุก
- **Fallback values** ูู ุญุงูุฉ ุงููุดู
- **User-friendly messages** ูููุณุชุฎุฏููู

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ูุจู ุงูุชุญููู
- โ 8 ูููุงุช ุชุณุชุฎุฏู ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ
- โ ุชุถุงุฑุจ ูู ุงูุจูุงูุงุช
- โ ุตุนูุจุฉ ูู ุงูุชุญุฏูุซ
- โ ุนุฏู ูุฌูุฏ ูุตู ููุทุจูุงุช

### ุจุนุฏ ุงูุชุญููู
- โ 0 ูููุงุช ุชุณุชุฎุฏู ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ
- โ ุงุชุณุงู ูุงูู ูู ุงูุจูุงูุงุช
- โ ุณูููุฉ ูู ุงูุชุญุฏูุซ
- โ ูุตู ูุงุถุญ ููุทุจูุงุช
- โ ูุงุจููุฉ ุงูุชูุณุน
- โ ุฅุฏุงุฑุฉ ุฃูุถู ููุฃุฎุทุงุก

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุฅุถุงูุฉ Caching Layer**
   - Redis ุฃู Next.js caching
   - ุชุญุณูู ุงูุฃุฏุงุก

2. **ุฅุถุงูุฉ Pagination**
   - ููููุงุฆู ุงูุทูููุฉ
   - ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู

3. **ุฅุถุงูุฉ Real-time Updates**
   - WebSocket ุฃู Server-Sent Events
   - ุชุญุฏูุซุงุช ููุฑูุฉ

4. **ุชุญุณูู SEO**
   - Metadata generation ูุญุณู
   - Structured data

5. **ุฅุถุงูุฉ Analytics**
   - ุชุชุจุน ุงูุงุณุชุฎุฏุงู
   - ุชุญููู ุงูุจูุงูุงุช

## ๐ ุงุฎุชุจุงุฑ ุงูุชุญููู

### ุงุฎุชุจุงุฑ ุงูุตูุญุงุช
- [ ] ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุชุนูู
- [ ] ุตูุญุฉ ุงููุฃุฐูููู ุชุนูู
- [ ] ุตูุญุฉ ุงููุฏู ุชุนูู
- [ ] ุตูุญุงุช ุงูุชูุงุตูู ุชุนูู

### ุงุฎุชุจุงุฑ ุงูู APIs
- [ ] ุฌููุน ุงูู endpoints ุชุนูู
- [ ] ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุชุนูู
- [ ] ุงูุจูุงูุงุช ุตุญูุญุฉ

### ุงุฎุชุจุงุฑ ุงูุฅุฏุงุฑุฉ
- [ ] ุฅุฏุงุฑุฉ ุงูุชููููุงุช ุชุนูู
- [ ] ุฅุฏุงุฑุฉ ุงูุฑุณุงุฆู ุชุนูู
- [ ] ุงูุนูููุงุช CRUD ุชุนูู

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุชุฃูุฏ ูู ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช** ูุจู ุชุดุบูู ุงูุชุทุจูู
2. **ุงุฎุชุจุงุฑ ุฌููุน ุงูุฑูุงุจุท** ููุชุฃูุฏ ูู ุนูููุง
3. **ูุฑุงูุจุฉ ุงูุฃุฎุทุงุก** ูู console
4. **ุงููุณุฎ ุงูุงุญุชูุงุทู** ููุจูุงูุงุช ูุจู ุงูุชุญุฏูุซ

---

**ุชู ุงูุงูุชูุงุก ูู ุงูุชุญููู ุจูุฌุงุญ! ๐**

ุฌููุน ุงูุจูุงูุงุช ุงูุขู ุชุฃุชู ูู ุงูู APIs ุงูุฎุงุตุฉ ุจูุงุ ููุง ููุฌุฏ ุฃู ุงุนุชูุงุฏ ุนูู ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ.
